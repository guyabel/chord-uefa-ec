<p>This weekend I was having fun in France watching some Euro 2016 matches, visiting friends and avoiding Russian hooligans. Before my flight over I scraped some tables on the tournaments Wikipedia page with my newly acquired <code>rvest</code> skills, with the idea to build up a bilateral database of Euro 2016 squads and their players clubs.</p>
<p>On the flight I managed to come up with some maps showing these connections. First off I used <code>ggplot2</code> to plot lines connecting the location of every players club teams to their national squads base in France. The path of the lines were calculated using the <code>gcIntermediate</code> function in the <code>geosphere</code><a href="https://cran.r-project.org/web/packages/geosphere/index.html">package</a>. The lines colour is based on the national teams jersey, which I obtained via R using the amazing <code>extract_colours</code> function in the <code>rPlotter</code> <a href="https://github.com/woobe/rPlotter">package</a>.</p>
<a href="https://gjabel.files.wordpress.com/2016/06/plot_base3.png"><img class="alignnone size-full wp-image-1723" src="https://gjabel.files.wordpress.com/2016/06/plot_base3.png" alt="plot_base" width="600"  /></a>

<p>I was not entirely convinced that this plot is too effective as the base camp of each team in France is not particularly common knowledge. This led me to create a new plot with a link from the players club teams to their nations capital city.<br /><a href="https://gjabel.files.wordpress.com/2016/06/plot_cap1.png"><img class="alignnone size-full wp-image-1724" src="https://gjabel.files.wordpress.com/2016/06/plot_cap1.png" alt="plot_cap" width="600" /></a></p>
<p>This shows some clear relationships, such as between the Iceland players and clubs in Scandinavia and clubs in northern England and Scotland with the Irish teams. Here is another plot to show some of the more distant relationships for players from non-European clubs</p>
<a href="https://gjabel.files.wordpress.com/2016/06/plot_cap21.png"><img class="alignnone size-full wp-image-1866" src="https://gjabel.files.wordpress.com/2016/06/plot_cap21.png" alt="plot_cap2" width="600" /></a>

<p>Finally, I had a go at trying to match my old World Cup <a href="https://gjabel.wordpress.com/2014/06/05/world-cup-players-representation-by-league-system/">circular plot</a> using the <code>chordDiagram</code> function in the <code>circlize</code> <a href="http://cran.r-project.org/web/packages/circlize/index.html">package</a>.<br /><a href="https://gjabel.files.wordpress.com/2016/06/plot_circle2.png"><br /><img class="alignnone size-full wp-image-1725" src="https://gjabel.files.wordpress.com/2016/06/plot_circle2.png" alt="plot_circle" width="600"  /></a></p>
<p>I ordered the countries according to their <a href="https://en.wikipedia.org/wiki/UEFA_coefficient#Current_ranking">UEFA coefficient</a>, which is based on the performance of club teams in European competitions. Most players playing abroad are based in teams in the top leagues of England, Germany, Italy or Spain. Players based in the English leagues make up most of the squads for teams from the British Isles. There are sizeable numbers of the Austrian and Swiss squads playing for clubs in the German leagues and Croatian players in Italy.</p>
<p>All the code for the scraping the data and producing the plots are on my <a href="https://github.com/gjabel/ecmig">Github</a>. Check out my <a href="https://gjabel.wordpress.com/2016/06/21/euro-2016-squads-part-deux/">next post</a> for more on the players at Euro 2016.</p>